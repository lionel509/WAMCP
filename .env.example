# WhatsApp / Meta Cloud API
# Generate WHATSAPP_VERIFY_TOKEN as a custom string for webhook verification
WHATSAPP_VERIFY_TOKEN=

# Your WhatsApp Access Token (from Meta App Dashboard > WhatsApp > API Setup)
WHATSAPP_ACCESS_TOKEN=
# Set this when using Cloudflare Tunnel or other reverse proxies
# Example: https://my-tunnel.cloudflare.com
PUBLIC_BASE_URL=
# Phone Number ID (the WhatsApp number you're using)
WHATSAPP_PHONE_NUMBER_ID=

# WhatsApp Business Account ID (WABA ID)
WHATSAPP_WABA_ID=

WHATSAPP_API_VERSION=v24.0
WHATSAPP_BASE_URL=https://graph.facebook.com
VERIFY_WEBHOOK_SIGNATURE=false

# Debug echo (disable in prod)
DEBUG_ECHO_MODE=false
DEBUG_ECHO_ALLOWLIST_E164=
DEBUG_ECHO_RATE_LIMIT_SECONDS=60
DEBUG_ECHO_GROUP_FALLBACK=false

# Core services
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme_postgres_password
POSTGRES_DB=wamcp
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5432/${POSTGRES_DB}
REDIS_URL=redis://localhost:6379/0

# MinIO
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme_minio_password
MINIO_ENDPOINT=localhost:9000
MINIO_BUCKET=documents
MINIO_SECURE=false

# Admin
ADMIN_API_KEY=changeme_admin_key

# Plugin Mode (read-only MCP)
WAMCP_PLUGIN_MODE=false
AUDIT_DATABASE_URL=

# Quick Tunnel (local dev only - do NOT use in production)
# Run 'make tunnel' to expose your local API to the internet via Cloudflare
# Generates a random public URL each runâ€”perfect for testing Meta webhooks locally
ENABLE_QUICK_TUNNEL=false
QUICK_TUNNEL_TARGET_URL=http://api:8000

# Watchdog
WATCHDOG_ENABLED=true
WATCHDOG_INTERVAL_SECONDS=60
WATCHDOG_STUCK_MESSAGE_MINUTES=5
WATCHDOG_MAX_QUEUE_BACKLOG=500
WATCHDOG_MAX_PENDING_DOCS=200
WATCHDOG_MAX_FAILED_DOCS=50
WATCHDOG_NOTIFY_MODE=log
WATCHDOG_ADMIN_NOTIFY_E164=
WATCHDOG_REENQUEUE_STALLED_DOCS=true
